<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رحاب - عالم سحري</title>
    
    <style>
        :root {
            /* ألوان مريحة للعين */
            --bg-light: #F5F7FA;
            --bg-dark: #2C3E50;
            --text-light: #2C3E50;
            --text-dark: #ECF0F1;
            --accent: #E74C3C;
            --wood: #8B4513;
            --wood-light: #CD853F;
            --gold: #F39C12;
            --shadow: rgba(0,0,0,0.2);
        }

        .dark-mode {
            --bg-light: #1A252F;
            --bg-dark: #0F1419;
            --text-light: #ECF0F1;
            --text-dark: #BDC3C7;
            --accent: #E67E22;
            --wood: #5D4037;
            --wood-light: #8D6E63;
            --gold: #F1C40F;
            --shadow: rgba(0,0,0,0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-light);
            color: var(--text-light);
            min-height: 100vh;
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        /* زر الوضع الليلي */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border: none;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        /* Header */
        .header {
            text-align: center;
            padding: 3rem 1rem;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 0.5rem;
            font-weight: 300;
        }

        .header p {
            color: var(--text-dark);
            font-size: 1.2rem;
            font-style: italic;
        }

        /* المحتوى */
        .main-content {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            text-align: center;
        }

        .welcome-text {
            font-size: 1.3rem;
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: 3rem;
        }

        /* الصندوق الخشبي الكبير */
        .magic-box {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 150px;
            height: 150px;
            background: linear-gradient(145deg, var(--wood), var(--wood-light));
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 10px 30px var(--shadow),
                inset 0 2px 4px rgba(255,255,255,0.1),
                inset 0 -2px 4px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            z-index: 100;
            border: 4px solid var(--gold);
        }

        .magic-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 3px,
                rgba(0,0,0,0.1) 3px,
                rgba(0,0,0,0.1) 6px
            );
        }

        .magic-box:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px var(--shadow);
        }

        .box-icon {
            font-size: 4rem;
            color: var(--gold);
            z-index: 1;
        }

        /* العصا السحرية الحقيقية */
        .magic-wand {
            position: fixed;
            bottom: 40px;
            left: 40px;
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, var(--gold), #FFD700);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(243, 156, 18, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            position: relative;
        }

        .magic-wand::before {
            content: '✨';
            position: absolute;
            top: -10px;
            right: -5px;
            font-size: 20px;
            animation: sparkle 2s infinite;
        }

        .magic-wand::after {
            content: '✨';
            position: absolute;
            bottom: -5px;
            left: -10px;
            font-size: 15px;
            animation: sparkle 2s infinite 1s;
        }

        .magic-wand:hover {
            transform: scale(1.1) rotate(-15deg);
        }

        .wand-icon {
            font-size: 2.5rem;
            transform: rotate(45deg);
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.3; transform: scale(1.5); }
        }

        /* الفراشات الجميلة */
        .butterfly {
            position: fixed;
            width: 60px;
            height: 60px;
            pointer-events: none;
            z-index: 99;
            opacity: 0;
        }

        .butterfly svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(3px 3px 6px rgba(0,0,0,0.3));
        }

        .butterfly.flying {
            opacity: 1;
            animation: flyFullScreen 10s ease-in-out forwards;
        }

        .butterfly.returning {
            animation: returnMagically 3s ease-in-out forwards;
        }

        /* طيران في الشاشة كاملة */
        @keyframes flyFullScreen {
            0% { 
                transform: translate(0, 0) rotate(0deg);
                opacity: 1;
            }
            10% { 
                transform: translate(-300px, -200px) rotate(45deg);
                opacity: 1;
            }
            20% { 
                transform: translate(400px, -100px) rotate(-30deg);
                opacity: 1;
            }
            30% { 
                transform: translate(-200px, -400px) rotate(60deg);
                opacity: 1;
            }
            40% { 
                transform: translate(500px, -300px) rotate(-45deg);
                opacity: 1;
            }
            50% { 
                transform: translate(-400px, -150px) rotate(90deg);
                opacity: 1;
            }
            60% { 
                transform: translate(300px, -500px) rotate(-60deg);
                opacity: 1;
            }
            70% { 
                transform: translate(-100px, -350px) rotate(30deg);
                opacity: 1;
            }
            80% { 
                transform: translate(200px, -200px) rotate(-90deg);
                opacity: 1;
            }
            90% { 
                transform: translate(-50px, -450px) rotate(15deg);
                opacity: 1;
            }
            100% { 
                transform: translate(100px, -600px) rotate(0deg);
                opacity: 1;
            }
        }

        /* عودة سحرية للصندوق */
        @keyframes returnMagically {
            0% { 
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            50% { 
                opacity: 0.8;
                transform: scale(0.5) rotate(180deg);
            }
            100% { 
                opacity: 0;
                transform: scale(0.1) rotate(360deg) translate(0, 0);
            }
        }

        /* رسالة الحب */
        .love-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: var(--bg-dark);
            padding: 3rem 2.5rem;
            border-radius: 25px;
            box-shadow: 0 20px 60px var(--shadow);
            border: 3px solid var(--accent);
            max-width: 90vw;
            width: 500px;
            text-align: center;
            z-index: 200;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .love-message.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .love-message.hide {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
        }

        .love-message h3 {
            color: var(--accent);
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
        }

        .love-message p {
            color: var(--text-light);
            font-size: 1.4rem;
            line-height: 1.7;
            margin-bottom: 2rem;
        }

        .love-message .signature {
            color: var(--gold);
            font-style: italic;
            font-size: 1.1rem;
        }

        /* نافذة القمر */
        .moon-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 300;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }

        .moon-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .moon-card {
            background: var(--bg-dark);
            padding: 4rem 3rem;
            border-radius: 30px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.5);
            border: 3px solid var(--gold);
            max-width: 90vw;
            width: 600px;
            text-align: center;
            transform: scale(0.3);
            transition: all 0.5s ease;
            position: relative;
        }

        .moon-modal.show .moon-card {
            transform: scale(1);
        }

        .moon-card .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
        }

        /* صورة القمر الكاملة */
        .moon-image {
            width: 200px;
            height: 200px;
            margin: 0 auto 3rem;
            background: radial-gradient(circle at 30% 30%, #FFF8DC, #F0E68C, #DAA520);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            box-shadow: 
                0 0 50px rgba(218, 165, 32, 0.5),
                inset 0 0 30px rgba(255, 255, 255, 0.2);
            animation: moonGlow 3s ease-in-out infinite alternate;
            position: relative;
        }

        /* فوهات القمر */
        .moon-image::before {
            content: '';
            position: absolute;
            top: 25%;
            left: 30%;
            width: 20px;
            height: 20px;
            background: rgba(139, 69, 19, 0.3);
            border-radius: 50%;
        }

        .moon-image::after {
            content: '';
            position: absolute;
            top: 65%;
            left: 65%;
            width: 15px;
            height: 15px;
            background: rgba(139, 69, 19, 0.2);
            border-radius: 50%;
        }

        @keyframes moonGlow {
            from { 
                box-shadow: 
                    0 0 50px rgba(218, 165, 32, 0.5),
                    inset 0 0 30px rgba(255, 255, 255, 0.2);
            }
            to { 
                box-shadow: 
                    0 0 80px rgba(218, 165, 32, 0.8),
                    inset 0 0 50px rgba(255, 255, 255, 0.4);
            }
        }

        .moon-card h3 {
            color: var(--accent);
            font-size: 2.5rem;
            margin-bottom: 3rem;
            font-weight: 400;
        }

        /* التوقيع على الشمال */
        .moon-card .signature-area {
            margin-top: 3rem;
            text-align: left;
            border-top: 2px solid var(--gold);
            padding-top: 2rem;
        }

        .moon-card .signature {
            color: var(--gold);
            font-size: 1.5rem;
            font-style: italic;
            font-weight: 500;
        }

        /* تصميم متجاوب */
        @media (max-width: 768px) {
            .magic-box { 
                width: 120px; 
                height: 120px; 
                bottom: 30px; 
                right: 30px; 
            }
            .box-icon { font-size: 3rem; }
            
            .magic-wand { 
                width: 70px; 
                height: 70px; 
                bottom: 30px; 
                left: 30px; 
            }
            .wand-icon { font-size: 2rem; }
            
            .love-message { width: 400px; }
            .moon-card { width: 500px; }
            .moon-image { width: 150px; height: 150px; font-size: 4rem; }
        }

        @media (max-width: 480px) {
            .magic-box { 
                width: 100px; 
                height: 100px; 
                bottom: 20px; 
                right: 20px; 
            }
            .box-icon { font-size: 2.5rem; }
            
            .magic-wand { 
                width: 60px; 
                height: 60px; 
                bottom: 20px; 
                left: 20px; 
            }
            .wand-icon { font-size: 1.8rem; }
            
            .love-message { width: 350px; }
            .moon-card { width: 400px; }
            .moon-image { width: 120px; height: 120px; font-size: 3rem; }
        }
    </style>
</head>
<body>
    <!-- زر الوضع الليلي -->
    <button class="theme-toggle" id="themeToggle">🌙</button>

    <!-- Header -->
    <header class="header">
        <h1>رحاب</h1>
        <p>✨ سحر لا ينتهي ✨</p>
    </header>

    <!-- المحتوى الرئيسي -->
    <main class="main-content">
        <div class="welcome-text">
            <p>مرحباً بكِ في عالمك السحري</p>
            <p>اضغطي على الصندوق الخشبي لتري الفراشات تملأ السماء</p>
            <p>أو المسي العصا السحرية لمفاجأة تحت ضوء القمر</p>
        </div>
    </main>

    <!-- الصندوق الخشبي الكبير -->
    <div class="magic-box" tabindex="0" role="button" aria-label="الصندوق السحري">
        <div class="box-icon">📦</div>
    </div>

    <!-- العصا السحرية الحقيقية -->
    <div class="magic-wand" tabindex="0" role="button" aria-label="العصا السحرية">
        <div class="wand-icon">🪄</div>
    </div>

    <!-- رسالة الحب -->
    <div class="love-message" id="loveMessage">
        <h3>💕 رسالة من القلب 💕</h3>
        <p id="messageText"></p>
        <div class="signature">من إسلام لرحوبته ❤️</div>
    </div>

    <!-- نافذة القمر -->
    <div class="moon-modal" id="moonModal">
        <div class="moon-card">
            <button class="close-btn">&times;</button>
            
            <!-- صورة القمر الكاملة -->
            <div class="moon-image">🌙</div>
            
            <h3>أنتِ أحلى منه</h3>
            
            <!-- التوقيع على الشمال -->
            <div class="signature-area">
                <div class="signature">إلى رحوبتي</div>
            </div>
        </div>
    </div>

    <script>
        // الرسائل العشر
        const messages = [
            "وجودك بيحول اللحظة العادية لحكاية حلوة",
            "بوجودك بتلمع الأيام كأنها نجوم",
            "ضحكتك بتنور قلبي كل يوم",
            "كل لحظة معاكي بتتحول لذكرى جميلة",
            "أنتِ رقة ما تتوصف بكلام",
            "وجودك هدية من السما",
            "قلبك دفا وحنية ما لها نهاية",
            "معاكي الدنيا بتبقى أحلى",
            "عيونك بتحكي أجمل الحكايات",
            "انتِ موسيقى لطيفة في يومي",
            "بحبك لدرجات ما تتقاسش"
        ];

        // ألوان الفراشات الجميلة
        const butterflyColors = [
            ['#FF6B9D', '#FFB3D1'],
            ['#4ECDC4', '#A8E6CF'],
            ['#45B7D1', '#87CEEB'],
            ['#96CEB4', '#C8E6C9'],
            ['#FFEAA7', '#FFF9C4'],
            ['#DDA0DD', '#E1BEE7'],
            ['#F39C12', '#FFD93D'],
            ['#FF7675', '#FDCB6E']
        ];

        let isFirstOpen = true;
        let isAnimating = false;
        let activeButterflies = [];
        const butterflyCount = 15;

        // العناصر
        const themeToggle = document.getElementById('themeToggle');
        const magicBox = document.querySelector('.magic-box');
        const magicWand = document.querySelector('.magic-wand');
        const loveMessage = document.getElementById('loveMessage');
        const messageText = document.getElementById('messageText');
        const moonModal = document.getElementById('moonModal');
        const closeBtn = document.querySelector('.close-btn');

        // تبديل الوضع الليلي
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            this.textContent = document.body.classList.contains('dark-mode') ? '☀️' : '🌙';
        });

        // إنشاء SVG للفراشة الجميلة
        function createButterflyHTML(colors) {
            const [primaryColor, secondaryColor] = colors;
            return `
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <g transform="translate(50,50)">
                        <ellipse cx="-20" cy="-15" rx="16" ry="25" fill="${primaryColor}" transform="rotate(-25)" opacity="0.9"/>
                        <ellipse cx="-15" cy="8" rx="10" ry="16" fill="${secondaryColor}" transform="rotate(-15)" opacity="0.8"/>
                        <ellipse cx="20" cy="-15" rx="16" ry="25" fill="${primaryColor}" transform="rotate(25)" opacity="0.9"/>
                        <ellipse cx="15" cy="8" rx="10" ry="16" fill="${secondaryColor}" transform="rotate(15)" opacity="0.8"/>
                        <ellipse cx="0" cy="0" rx="3" ry="30" fill="#2C3E50"/>
                        <circle cx="-14" cy="-10" r="3" fill="#FFF" opacity="0.9"/>
                        <circle cx="14" cy="-10" r="3" fill="#FFF" opacity="0.9"/>
                        <line x1="0" y1="-25" x2="-7" y2="-35" stroke="#2C3E50" stroke-width="2"/>
                        <line x1="0" y1="-25" x2="7" y2="-35" stroke="#2C3E50" stroke-width="2"/>
                        <circle cx="-7" cy="-35" r="2" fill="${primaryColor}"/>
                        <circle cx="7" cy="-35" r="2" fill="${primaryColor}"/>
                    </g>
                </svg>
            `;
        }

        // إنشاء الفراشات
        function createButterflies() {
            if (isAnimating) return;
            isAnimating = true;

            const boxRect = magicBox.getBoundingClientRect();
            const startX = boxRect.left + boxRect.width / 2;
            const startY = boxRect.top + boxRect.height / 2;

            // مسح الفراشات السابقة
            activeButterflies.forEach(butterfly => {
                if (butterfly.parentNode) {
                    butterfly.parentNode.removeChild(butterfly);
                }
            });
            activeButterflies = [];

            // إنشاء فراشات جديدة
            for (let i = 0; i < butterflyCount; i++) {
                setTimeout(() => {
                    const butterfly = document.createElement('div');
                    butterfly.className = 'butterfly';
                    
                    const colorPair = butterflyColors[Math.floor(Math.random() * butterflyColors.length)];
                    butterfly.innerHTML = createButterflyHTML(colorPair);
                    
                    butterfly.style.left = startX + 'px';
                    butterfly.style.top = startY + 'px';
                    
                    document.body.appendChild(butterfly);
                    activeButterflies.push(butterfly);
                    
                    requestAnimationFrame(() => {
                        butterfly.classList.add('flying');
                    });
                    
                }, i * 100);
            }

            // عودة سحرية بعد 10 ثواني بالضبط
            setTimeout(() => {
                returnButterfliesMagically();
            }, 10000);
        }

        // عودة سحرية للفراشات والرسالة
        function returnButterfliesMagically() {
            // إخفاء الرسالة أولاً
            loveMessage.classList.add('hide');
            setTimeout(() => {
                loveMessage.classList.remove('show', 'hide');
            }, 500);

            // عودة الفراشات بشكل سحري
            activeButterflies.forEach((butterfly, index) => {
                setTimeout(() => {
                    if (butterfly.parentNode) {
                        butterfly.classList.remove('flying');
                        butterfly.classList.add('returning');
                        
                        setTimeout(() => {
                            if (butterfly.parentNode) {
                                butterfly.parentNode.removeChild(butterfly);
                            }
                        }, 3000);
                    }
                }, index * 50);
            });

            setTimeout(() => {
                isAnimating = false;
                activeButterflies = [];
            }, 4000);
        }

        // عرض الرسالة
        function showMessage() {
            let message;
            if (isFirstOpen) {
                message = messages[0];
                isFirstOpen = false;
            } else {
                const availableMessages = messages.slice(1);
                message = availableMessages[Math.floor(Math.random() * availableMessages.length)];
            }
            
            messageText.textContent = message;
            loveMessage.classList.add('show');
        }

        // عرض نافذة القمر
        function showMoonModal() {
            moonModal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function hideMoonModal() {
            moonModal.classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        // الأحداث
        magicBox.addEventListener('click', function() {
            if (isAnimating) return;
            createButterflies();
            showMessage();
        });

        magicBox.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                this.click();
            }
        });

        magicWand.addEventListener('click', showMoonModal);

        magicWand.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                this.click();
            }
        });

        closeBtn.addEventListener('click', hideMoonModal);

        moonModal.addEventListener('click', function(e) {
            if (e.target === this) {
                hideMoonModal();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && moonModal.classList.contains('show')) {
                hideMoonModal();
            }
        });

        console.log('🦋 موقع رحاب - تنفيذ دقيق للمطلوب 🦋');
    </script>
</body>
</html>